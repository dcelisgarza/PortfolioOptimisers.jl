import{_ as l,C as p,c as o,o as h,j as s,a as t,aA as e,G as r,w as n}from"./chunks/framework.DTBrlJof.js";const F=JSON.parse('{"title":"Empirical Prior","description":"","frontmatter":{},"headers":[],"relativePath":"api/14_Prior/02_EmpiricalPrior.md","filePath":"api/14_Prior/02_EmpiricalPrior.md","lastUpdated":null}'),d={name:"api/14_Prior/02_EmpiricalPrior.md"},k={class:"jldocstring custom-block",open:""},c={class:"jldocstring custom-block",open:""},E={class:"jldocstring custom-block",open:""};function g(m,i,u,y,P,f){const a=p("Badge");return h(),o("div",null,[i[12]||(i[12]=s("h1",{id:"Empirical-Prior",tabindex:"-1"},[t("Empirical Prior "),s("a",{class:"header-anchor",href:"#Empirical-Prior","aria-label":'Permalink to "Empirical Prior {#Empirical-Prior}"'},"​")],-1)),s("details",k,[s("summary",null,[i[0]||(i[0]=s("a",{id:"PortfolioOptimisers.EmpiricalPrior",href:"#PortfolioOptimisers.EmpiricalPrior"},[s("span",{class:"jlbinding"},"PortfolioOptimisers.EmpiricalPrior")],-1)),i[1]||(i[1]=t()),r(a,{type:"info",class:"jlObjectType jlType",text:"Type"})]),i[3]||(i[3]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EmpiricalPrior{T1, T2, T3} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractLowOrderPriorEstimator_A</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ce</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">T1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    me</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">T2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    horizon</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">T3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>Empirical prior estimator for asset returns.</p><p><code>EmpiricalPrior</code> is a low order prior estimator that computes the mean and covariance of asset returns using empirical (sample-based) statistics. It supports custom expected returns and covariance estimators, as well as an optional investment horizon for log-normalisation and scaling.</p><p><strong>Fields</strong></p><ul><li><p><code>ce</code>: Covariance estimator.</p></li><li><p><code>me</code>: Expected returns estimator.</p></li><li><p><code>horizon</code>: Optional investment horizon.</p></li></ul><p><strong>Constructor</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">EmpiricalPrior</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(; ce</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">StatsBase.CovarianceEstimator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PortfolioOptimisersCovariance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">               me</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractExpectedReturnsEstimator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> SimpleExpectedReturns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">               horizon</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Option{&lt;:Number}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Keyword arguments correspond to the fields above.</p><p><strong>Validation</strong></p><ul><li>If <code>horizon</code> is not <code>nothing</code>, <code>horizon &gt; 0</code>.</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> EmpiricalPrior</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">EmpiricalPrior</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       ce ┼ PortfolioOptimisersCovariance</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │   ce ┼ Covariance</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │      │    me ┼ SimpleExpectedReturns</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │      │       │   w ┴ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nothing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │      │    ce ┼ GeneralCovariance</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │      │       │   ce ┼ StatsBase</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SimpleCovariance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> StatsBase</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SimpleCovariance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │      │       │    w ┴ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nothing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │      │   alg ┴ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Full</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │   mp ┼ DenoiseDetoneAlgMatrixProcessing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │      │       pdm ┼ Posdef</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │      │           │      alg ┼ UnionAll</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NearestCorrelationMatrix</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Newton</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │      │           │   kwargs ┴ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">@NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> NamedTuple</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │      │   denoise ┼ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nothing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │      │    detone ┼ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nothing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │      │       alg ┼ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nothing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │      │     order ┴ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DenoiseDetoneAlg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       me ┼ SimpleExpectedReturns</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          │   w ┴ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nothing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  horizon ┴ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nothing</span></span></code></pre></div><p><strong>Related</strong></p><ul><li><p><a href="/PortfolioOptimisers.jl/previews/PR49/api/14_Prior/01_BasePrior#PortfolioOptimisers.AbstractLowOrderPriorEstimator_A"><code>AbstractLowOrderPriorEstimator_A</code></a></p></li><li><p><a href="https://juliastats.org/StatsBase.jl/stable/cov/" target="_blank" rel="noreferrer"><code>StatsBase.CovarianceEstimator</code></a></p></li><li><p><a href="/PortfolioOptimisers.jl/previews/PR49/api/08_Moments/01_Base_Moments#PortfolioOptimisers.AbstractExpectedReturnsEstimator"><code>AbstractExpectedReturnsEstimator</code></a></p></li><li><p><a href="/PortfolioOptimisers.jl/previews/PR49/api/08_Moments/02_SimpleExpectedReturns#PortfolioOptimisers.SimpleExpectedReturns"><code>SimpleExpectedReturns</code></a></p></li><li><p><a href="/PortfolioOptimisers.jl/previews/PR49/api/08_Moments/15_PortfolioOptimisersCovariance#PortfolioOptimisersCovariance"><code>PortfolioOptimisersCovariance</code></a></p></li><li><p><a href="/PortfolioOptimisers.jl/previews/PR49/api/14_Prior/01_BasePrior#PortfolioOptimisers.prior-Tuple{AbstractPriorEstimator, ReturnsResult}"><code>prior</code></a></p></li></ul>`,14)),r(a,{type:"info",class:"source-link",text:"source"},{default:n(()=>[...i[2]||(i[2]=[s("a",{href:"https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/bd72ad6728d4d47ed9ff9bd221abfd63f5b9e9a6/src/14_Prior/02_EmpiricalPrior.jl#L1-L64",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",c,[s("summary",null,[i[4]||(i[4]=s("a",{id:'PortfolioOptimisers.prior-Tuple{EmpiricalPrior{<:Any, <:Any, Nothing}, AbstractMatrix{<:Union{var"#s59", var"#s58"} where {var"#s59"<:Number, var"#s58"<:JuMP.AbstractJuMPScalar}}, Vararg{Any}}',href:'#PortfolioOptimisers.prior-Tuple{EmpiricalPrior{<:Any, <:Any, Nothing}, AbstractMatrix{<:Union{var"#s59", var"#s58"} where {var"#s59"<:Number, var"#s58"<:JuMP.AbstractJuMPScalar}}, Vararg{Any}}'},[s("span",{class:"jlbinding"},"PortfolioOptimisers.prior")],-1)),i[5]||(i[5]=t()),r(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[7]||(i[7]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prior</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pe</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">EmpiricalPrior{&lt;:Any, &lt;:Any, Nothing}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, X</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MatNum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; dims</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      kwargs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Compute empirical prior moments for asset returns (no horizon adjustment).</p><p><code>prior</code> estimates the mean and covariance of asset returns using the specified empirical prior estimator, without log-normalisation or scaling for investment horizon. The mean and covariance are computed using the estimators stored in <code>pe</code>, and returned in a <a href="/PortfolioOptimisers.jl/previews/PR49/api/14_Prior/01_BasePrior#PortfolioOptimisers.LowOrderPrior"><code>LowOrderPrior</code></a> result.</p><p><strong>Arguments</strong></p><ul><li><p><code>pe</code>: Empirical prior estimator.</p></li><li><p><code>X</code>: Asset returns matrix (observations × assets).</p></li><li><p><code>args...</code>: Additional positional arguments (ignored).</p></li><li><p><code>dims</code>: Dimension along which to compute moments.</p></li><li><p><code>kwargs...</code>: Additional keyword arguments passed to mean and covariance estimators.</p></li></ul><p><strong>Returns</strong></p><ul><li><code>pr::LowOrderPrior</code>: Result object containing asset returns, mean vector, and covariance matrix.</li></ul><p><strong>Validation</strong></p><ul><li><code>dims in (1, 2)</code>.</li></ul><p><strong>Related</strong></p><ul><li><p><a href="/PortfolioOptimisers.jl/previews/PR49/api/14_Prior/02_EmpiricalPrior#PortfolioOptimisers.EmpiricalPrior"><code>EmpiricalPrior</code></a></p></li><li><p><a href="/PortfolioOptimisers.jl/previews/PR49/api/14_Prior/01_BasePrior#PortfolioOptimisers.LowOrderPrior"><code>LowOrderPrior</code></a></p></li><li><p><a href="/PortfolioOptimisers.jl/previews/PR49/api/14_Prior/01_BasePrior#PortfolioOptimisers.prior-Tuple{AbstractPriorEstimator, ReturnsResult}"><code>prior</code></a></p></li></ul>`,11)),r(a,{type:"info",class:"source-link",text:"source"},{default:n(()=>[...i[6]||(i[6]=[s("a",{href:"https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/bd72ad6728d4d47ed9ff9bd221abfd63f5b9e9a6/src/14_Prior/02_EmpiricalPrior.jl#L87-L116",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",E,[s("summary",null,[i[8]||(i[8]=s("a",{id:'PortfolioOptimisers.prior-Tuple{EmpiricalPrior{<:Any, <:Any, <:Number}, AbstractMatrix{<:Union{var"#s59", var"#s58"} where {var"#s59"<:Number, var"#s58"<:JuMP.AbstractJuMPScalar}}, Vararg{Any}}',href:'#PortfolioOptimisers.prior-Tuple{EmpiricalPrior{<:Any, <:Any, <:Number}, AbstractMatrix{<:Union{var"#s59", var"#s58"} where {var"#s59"<:Number, var"#s58"<:JuMP.AbstractJuMPScalar}}, Vararg{Any}}'},[s("span",{class:"jlbinding"},"PortfolioOptimisers.prior")],-1)),i[9]||(i[9]=t()),r(a,{type:"info",class:"jlObjectType jlMethod",text:"Method"})]),i[11]||(i[11]=e(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prior</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pe</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">EmpiricalPrior{&lt;:Any, &lt;:Any, &lt;:Number}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, X</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MatNum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; dims</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      kwargs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Compute empirical prior moments for asset returns with investment horizon adjustment.</p><p><code>prior</code> estimates the mean and covariance of asset returns using the specified empirical prior estimator, applying log-normalisation and scaling for the investment horizon. The asset returns are log-transformed, moments are computed using the estimators stored in <code>pe</code>, and then rescaled according to the investment horizon. The final mean and covariance are transformed back to arithmetic returns and returned in a <a href="/PortfolioOptimisers.jl/previews/PR49/api/14_Prior/01_BasePrior#PortfolioOptimisers.LowOrderPrior"><code>LowOrderPrior</code></a> result.</p><p><strong>Arguments</strong></p><ul><li><p><code>pe</code>: Empirical prior estimator.</p></li><li><p><code>X</code>: Asset returns matrix (observations × assets).</p></li><li><p><code>args...</code>: Additional positional arguments (ignored).</p></li><li><p><code>dims</code>: Dimension along which to compute moments.</p></li><li><p><code>kwargs...</code>: Additional keyword arguments passed to mean and covariance estimators.</p></li></ul><p><strong>Returns</strong></p><ul><li><code>pr::LowOrderPrior</code>: Result object containing asset returns, mean vector, and covariance matrix.</li></ul><p><strong>Validation</strong></p><ul><li><code>dims in (1, 2)</code>.</li></ul><p><strong>Related</strong></p><ul><li><p><a href="/PortfolioOptimisers.jl/previews/PR49/api/14_Prior/02_EmpiricalPrior#PortfolioOptimisers.EmpiricalPrior"><code>EmpiricalPrior</code></a></p></li><li><p><a href="/PortfolioOptimisers.jl/previews/PR49/api/14_Prior/01_BasePrior#PortfolioOptimisers.LowOrderPrior"><code>LowOrderPrior</code></a></p></li><li><p><a href="/PortfolioOptimisers.jl/previews/PR49/api/14_Prior/01_BasePrior#PortfolioOptimisers.prior-Tuple{AbstractPriorEstimator, ReturnsResult}"><code>prior</code></a></p></li></ul>`,11)),r(a,{type:"info",class:"source-link",text:"source"},{default:n(()=>[...i[10]||(i[10]=[s("a",{href:"https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/bd72ad6728d4d47ed9ff9bd221abfd63f5b9e9a6/src/14_Prior/02_EmpiricalPrior.jl#L127-L156",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})])])}const b=l(d,[["render",g]]);export{F as __pageData,b as default};
