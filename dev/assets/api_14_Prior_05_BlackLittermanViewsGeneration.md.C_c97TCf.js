import{_ as r,C as p,c as h,o as k,j as s,a as e,aA as n,G as t,w as l}from"./chunks/framework.UvaYKHbv.js";const v=JSON.parse('{"title":"Black-Litterman Views Generation","description":"","frontmatter":{},"headers":[],"relativePath":"api/14_Prior/05_BlackLittermanViewsGeneration.md","filePath":"api/14_Prior/05_BlackLittermanViewsGeneration.md","lastUpdated":null}'),o={name:"api/14_Prior/05_BlackLittermanViewsGeneration.md"},d={class:"jldocstring custom-block",open:""},c={class:"jldocstring custom-block",open:""},E={class:"jldocstring custom-block",open:""},g={class:"jldocstring custom-block",open:""};function y(F,i,u,m,C,f){const a=p("Badge");return k(),h("div",null,[i[16]||(i[16]=s("h1",{id:"Black-Litterman-Views-Generation",tabindex:"-1"},[e("Black-Litterman Views Generation "),s("a",{class:"header-anchor",href:"#Black-Litterman-Views-Generation","aria-label":'Permalink to "Black-Litterman Views Generation {#Black-Litterman-Views-Generation}"'},"​")],-1)),s("details",d,[s("summary",null,[i[0]||(i[0]=s("a",{id:"PortfolioOptimisers.BlackLittermanViews",href:"#PortfolioOptimisers.BlackLittermanViews"},[s("span",{class:"jlbinding"},"PortfolioOptimisers.BlackLittermanViews")],-1)),i[1]||(i[1]=e()),t(a,{type:"info",class:"jlObjectType jlType",text:"Type"})]),i[3]||(i[3]=n(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BlackLittermanViews{T1, T2} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AbstractResult</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">T1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Q</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">T2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><p>Container for Black-Litterman investor views in canonical matrix form.</p><p><code>BlackLittermanViews</code> stores the views matrix <code>P</code> and the expected returns vector <code>Q</code> for use in Black-Litterman prior construction and related portfolio optimisation routines. The matrix <code>P</code> encodes the linear relationships between assets for each view, while <code>Q</code> specifies the expected value for each view.</p><p><strong>Fields</strong></p><ul><li><p><code>P</code>: Matrix of view coefficients, where each row represents a view and each column corresponds to an asset.</p></li><li><p><code>Q</code>: Vector of expected returns or values for each view.</p></li></ul><p><strong>Constructor</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">BlackLittermanViews</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(; P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractMatrix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Q</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Keyword arguments correspond to the fields above.</p><p><strong>Validation</strong></p><ul><li><p><code>!isempty(P)</code> and <code>!isempty(Q)</code>.</p></li><li><p><code>size(P, 1) == length(Q)</code>.</p></li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> BlackLittermanViews</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(; P </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 7</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], Q </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BlackLittermanViews</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  P ┼ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">×</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Matrix{Int64}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Q ┴ Vector{Int64}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p><strong>Related</strong></p><ul><li><a href="/PortfolioOptimisers.jl/dev/api/14_Prior/05_BlackLittermanViewsGeneration#PortfolioOptimisers.black_litterman_views"><code>black_litterman_views</code></a></li></ul>`,14)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[2]||(i[2]=[s("a",{href:"https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/d44e6e67706d02e309682f26cec05ed8a1f11f46/src/14_Prior/05_BlackLittermanViewsGeneration.jl#L1-L39",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",c,[s("summary",null,[i[4]||(i[4]=s("a",{id:"PortfolioOptimisers.black_litterman_views",href:"#PortfolioOptimisers.black_litterman_views"},[s("span",{class:"jlbinding"},"PortfolioOptimisers.black_litterman_views")],-1)),i[5]||(i[5]=e()),t(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[7]||(i[7]=n(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">black_litterman_views</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(views</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{Nothing, &lt;:BlackLittermanViews}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; kwargs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">black_litterman_views</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(views</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Expr,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                   &lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{&lt;:Union{&lt;:AbstractString, Expr}}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                      sets</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AssetSets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; datatype</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DataType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Float64, strict</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">black_litterman_views</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(views</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LinearConstraintEstimator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sets</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AssetSets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                      datatype</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DataType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Float64, strict</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Unified interface for constructing or passing through Black-Litterman investor views.</p><p><code>black_litterman_views</code> provides a composable API for handling Black-Litterman views in portfolio optimisation workflows. It supports passing through an existing <a href="/PortfolioOptimisers.jl/dev/api/14_Prior/05_BlackLittermanViewsGeneration#PortfolioOptimisers.BlackLittermanViews"><code>BlackLittermanViews</code></a> object, constructing views from equations or constraint estimators, and converting parsed view equations into canonical matrix form.</p><p><strong>Arguments</strong></p><ul><li><p><code>views</code>:</p><ul><li><p><code>nothing</code> or <a href="/PortfolioOptimisers.jl/dev/api/14_Prior/05_BlackLittermanViewsGeneration#PortfolioOptimisers.BlackLittermanViews"><code>BlackLittermanViews</code></a>: it is returned unchanged.</p></li><li><p><code>Union{&lt;:AbstractString, Expr, &lt;:AbstractVector{&lt;:Union{&lt;:AbstractString, Expr}}}</code>: the view(s) are parsed, groups are replaced by their constituent assets using <code>sets</code>, calls <a href="/PortfolioOptimisers.jl/dev/api/14_Prior/05_BlackLittermanViewsGeneration#PortfolioOptimisers.get_black_litterman_views"><code>get_black_litterman_views</code></a> and constructs a <a href="/PortfolioOptimisers.jl/dev/api/14_Prior/05_BlackLittermanViewsGeneration#PortfolioOptimisers.BlackLittermanViews"><code>BlackLittermanViews</code></a> object is constructed.</p></li><li><p><a href="/PortfolioOptimisers.jl/dev/api/13_ConstraintGeneration/2_LinearConstraintGeneration#PortfolioOptimisers.LinearConstraintEstimator"><code>LinearConstraintEstimator</code></a>: calls the method described above using the <code>val</code> field of the estimator.</p></li></ul></li><li><p><code>sets</code>: An <a href="/PortfolioOptimisers.jl/dev/api/13_ConstraintGeneration/2_LinearConstraintGeneration#PortfolioOptimisers.AssetSets"><code>AssetSets</code></a> object specifying the asset universe and groupings.</p></li><li><p><code>datatype</code>: Numeric type for coefficients and expected returns.</p></li><li><p><code>strict</code>: If <code>true</code>, throws an error if a variable or group is not found in <code>sets</code>; if <code>false</code>, issues a warning.</p></li></ul><p><strong>Returns</strong></p><ul><li><code>blv::BlackLittermanViews</code>: An object containing the assembled views matrix <code>P</code> and expected returns vector <code>Q</code>, or <code>nothing</code> if no views are present.</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sets </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AssetSets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(; key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;nx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dict </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nx&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> black_litterman_views</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A + B == 0.05&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C == 0.02&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], sets)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BlackLittermanViews</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  P ┼ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">×</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LinearAlgebra</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Transpose{Float64, Matrix{Float64}}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Q ┴ Vector{Float64}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.05</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.02</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lce </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> LinearConstraintEstimator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(; val </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A == 0.03&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B + C == 0.04&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> black_litterman_views</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lce, sets)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BlackLittermanViews</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  P ┼ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">×</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LinearAlgebra</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Transpose{Float64, Matrix{Float64}}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Q ┴ Vector{Float64}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.03</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.04</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p><strong>Related</strong></p><ul><li><p><a href="/PortfolioOptimisers.jl/dev/api/14_Prior/05_BlackLittermanViewsGeneration#PortfolioOptimisers.BlackLittermanViews"><code>BlackLittermanViews</code></a></p></li><li><p><a href="/PortfolioOptimisers.jl/dev/api/14_Prior/05_BlackLittermanViewsGeneration#PortfolioOptimisers.get_black_litterman_views"><code>get_black_litterman_views</code></a></p></li><li><p><a href="/PortfolioOptimisers.jl/dev/api/13_ConstraintGeneration/2_LinearConstraintGeneration#PortfolioOptimisers.parse_equation"><code>parse_equation</code></a></p></li><li><p><a href="/PortfolioOptimisers.jl/dev/api/13_ConstraintGeneration/2_LinearConstraintGeneration#PortfolioOptimisers.AssetSets"><code>AssetSets</code></a></p></li><li><p><a href="/PortfolioOptimisers.jl/dev/api/13_ConstraintGeneration/2_LinearConstraintGeneration#PortfolioOptimisers.LinearConstraintEstimator"><code>LinearConstraintEstimator</code></a></p></li></ul>`,11)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[6]||(i[6]=[s("a",{href:"https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/d44e6e67706d02e309682f26cec05ed8a1f11f46/src/14_Prior/05_BlackLittermanViewsGeneration.jl#L132-L185",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",E,[s("summary",null,[i[8]||(i[8]=s("a",{id:"PortfolioOptimisers.get_black_litterman_views",href:"#PortfolioOptimisers.get_black_litterman_views"},[s("span",{class:"jlbinding"},"PortfolioOptimisers.get_black_litterman_views")],-1)),i[9]||(i[9]=e()),t(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[11]||(i[11]=n(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">get_black_litterman_views</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lcs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{&lt;:ParsingResult, &lt;:AbstractVector{&lt;:ParsingResult}}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                          sets</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AssetSets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; datatype</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DataType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Float64,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                          strict</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Bool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Convert parsed Black-Litterman view equations into a <code>BlackLittermanViews</code> object.</p><p><code>get_black_litterman_views</code> takes one or more <a href="/PortfolioOptimisers.jl/dev/api/13_ConstraintGeneration/2_LinearConstraintGeneration#PortfolioOptimisers.ParsingResult"><code>ParsingResult</code></a> objects (as produced by <a href="/PortfolioOptimisers.jl/dev/api/13_ConstraintGeneration/2_LinearConstraintGeneration#PortfolioOptimisers.parse_equation"><code>parse_equation</code></a>), expands variable names using the provided <a href="/PortfolioOptimisers.jl/dev/api/13_ConstraintGeneration/2_LinearConstraintGeneration#PortfolioOptimisers.AssetSets"><code>AssetSets</code></a>, and assembles the canonical views matrix <code>P</code> and expected returns vector <code>Q</code> for Black-Litterman prior construction. The result is a <a href="/PortfolioOptimisers.jl/dev/api/14_Prior/05_BlackLittermanViewsGeneration#PortfolioOptimisers.BlackLittermanViews"><code>BlackLittermanViews</code></a> object suitable for use in portfolio optimisation routines.</p><p><strong>Arguments</strong></p><ul><li><p><code>lcs</code>: A single <a href="/PortfolioOptimisers.jl/dev/api/13_ConstraintGeneration/2_LinearConstraintGeneration#PortfolioOptimisers.ParsingResult"><code>ParsingResult</code></a> or a vector of such objects, representing parsed Black-Litterman view equations.</p></li><li><p><code>sets</code>: An <a href="/PortfolioOptimisers.jl/dev/api/13_ConstraintGeneration/2_LinearConstraintGeneration#PortfolioOptimisers.AssetSets"><code>AssetSets</code></a> object specifying the asset universe and groupings.</p></li><li><p><code>datatype</code>: Numeric type for coefficients and expected returns.</p></li><li><p><code>strict</code>: If <code>true</code>, throws an error if a variable or group is not found in <code>sets</code>; if <code>false</code>, issues a warning.</p></li></ul><p><strong>Details</strong></p><ul><li><p>For each view, variable names are matched to the asset universe in <code>sets</code>.</p></li><li><p>Coefficient vectors are assembled for each view, with entries corresponding to the order of assets in <code>sets</code>.</p></li><li><p>The function validates that all views reference valid assets or groups, using <code>@argcheck</code> for defensive programming.</p></li><li><p>Returns <code>nothing</code> if no valid views are found after processing.</p></li></ul><p><strong>Returns</strong></p><ul><li><code>BlackLittermanViews</code>: An object containing the assembled views matrix <code>P</code> and expected returns vector <code>Q</code>, or <code>nothing</code> if no views are present.</li></ul><p><strong>Examples</strong></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sets </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AssetSets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(; key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;nx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dict </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Dict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nx&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lcs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> parse_equation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A + B == 0.05&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C == 0.02&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">julia</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PortfolioOptimisers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">get_black_litterman_views</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lcs, sets)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BlackLittermanViews</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  P ┼ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">×</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LinearAlgebra</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Transpose{Float64, Matrix{Float64}}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Q ┴ Vector{Float64}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.05</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.02</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p><strong>Related</strong></p><ul><li><p><a href="/PortfolioOptimisers.jl/dev/api/14_Prior/05_BlackLittermanViewsGeneration#PortfolioOptimisers.BlackLittermanViews"><code>BlackLittermanViews</code></a></p></li><li><p><a href="/PortfolioOptimisers.jl/dev/api/13_ConstraintGeneration/2_LinearConstraintGeneration#PortfolioOptimisers.parse_equation"><code>parse_equation</code></a></p></li><li><p><a href="/PortfolioOptimisers.jl/dev/api/13_ConstraintGeneration/2_LinearConstraintGeneration#PortfolioOptimisers.AssetSets"><code>AssetSets</code></a></p></li></ul>`,13)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[10]||(i[10]=[s("a",{href:"https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/d44e6e67706d02e309682f26cec05ed8a1f11f46/src/14_Prior/05_BlackLittermanViewsGeneration.jl#L52-L97",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})]),s("details",g,[s("summary",null,[i[12]||(i[12]=s("a",{id:"PortfolioOptimisers.assert_bl_views_conf",href:"#PortfolioOptimisers.assert_bl_views_conf"},[s("span",{class:"jlbinding"},"PortfolioOptimisers.assert_bl_views_conf")],-1)),i[13]||(i[13]=e()),t(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[15]||(i[15]=n(`<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">assert_bl_views_conf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Nothing</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, args</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">assert_bl_views_conf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(views_conf</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union{Nothing, &lt;:Real, &lt;:AbstractVector{&lt;:Real}}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                     views</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Union</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Expr,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                  &lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractVector{&lt;:Union{&lt;:AbstractString, Expr}}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                  &lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LinearConstraintEstimator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">BlackLittermanViews</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Validate Black-Litterman view confidence specification.</p><p><code>assert_bl_views_conf</code> checks that the view confidence parameter(s) provided for Black-Litterman prior construction are valid. It supports scalar and vector confidence values, and works with views specified as equations, constraint estimators, or canonical views objects. The function enforces that confidence values are strictly between 0 and 1, and that the number of confidence values matches the number of views when a vector is provided.</p><p><strong>Arguments</strong></p><ul><li><p><code>views_conf</code>: Scalar or vector of confidence values.</p></li><li><p><code>views</code>: Black-Litterman views, which may be equations.</p></li></ul><p><strong>Returns</strong></p><ul><li><code>nothing</code>: Returns nothing if validation passes; throws an error otherwise.</li></ul><p><strong>Validation</strong></p><ul><li><p><code>views_conf</code>:</p><ul><li><p><code>::Nothing</code>, no-op.</p></li><li><p><code>::Real</code>, <code>0 &lt; views_conf &lt; 1</code>.</p></li><li><p><code>::AbstractVector{&lt;:Real}</code>, <code>all(x -&gt; 0 &lt; x &lt; 1, views_conf)</code>, and must have the same length as the number of views.</p></li></ul></li><li><p><code>views</code>:</p><ul><li><p><code>::Union{&lt;:AbstractString, Expr}</code>, <code>length(views_conf) == 1</code>.</p></li><li><p><code>::AbstractVector{&lt;:Union{&lt;:AbstractString, Expr}}</code>, <code>length(views_conf) == length(views)</code>.</p></li><li><p><code>::LinearConstraintEstimator</code>, calls <code>assert_bl_views_conf(views_conf, views.val)</code>.</p></li><li><p><code>::BlackLittermanViews</code>, <code>length(views_conf) == length(views.Q)</code>.</p></li></ul></li></ul><p><strong>Related</strong></p><ul><li><a href="/PortfolioOptimisers.jl/dev/api/14_Prior/05_BlackLittermanViewsGeneration#PortfolioOptimisers.BlackLittermanViews"><code>BlackLittermanViews</code></a></li></ul>`,11)),t(a,{type:"info",class:"source-link",text:"source"},{default:l(()=>[...i[14]||(i[14]=[s("a",{href:"https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/d44e6e67706d02e309682f26cec05ed8a1f11f46/src/14_Prior/05_BlackLittermanViewsGeneration.jl#L202-L240",target:"_blank",rel:"noreferrer"},"source",-1)])]),_:1})])])}const B=r(o,[["render",y]]);export{v as __pageData,B as default};
