<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Histogram · PortfolioOptimisers.jl</title><meta name="title" content="Histogram · PortfolioOptimisers.jl"/><meta property="og:title" content="Histogram · PortfolioOptimisers.jl"/><meta property="twitter:title" content="Histogram · PortfolioOptimisers.jl"/><meta name="description" content="Documentation for PortfolioOptimisers.jl."/><meta property="og:description" content="Documentation for PortfolioOptimisers.jl."/><meta property="twitter:description" content="Documentation for PortfolioOptimisers.jl."/><meta property="og:url" content="https://dcelisgarza.github.io/PortfolioOptimisers.jl/007-10-Moments/"/><meta property="twitter:url" content="https://dcelisgarza.github.io/PortfolioOptimisers.jl/007-10-Moments/"/><link rel="canonical" href="https://dcelisgarza.github.io/PortfolioOptimisers.jl/007-10-Moments/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="PortfolioOptimisers.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">PortfolioOptimisers.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">PortfolioOptimisers</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/1-Getting-Started/">Example 1: Simple <code>MeanRisk</code> optimisation</a></li><li><a class="tocitem" href="../examples/2-Mean-Risk-Objectives/">Example 2: <code>MeanRisk</code> objectives</a></li><li><a class="tocitem" href="../examples/3-Efficient-Frontier/">Example 3: Efficient frontier</a></li><li><a class="tocitem" href="../examples/4-Pareto-Surface/">Example 4: Pareto surface</a></li><li><a class="tocitem" href="../examples/5-Budget-Constraints/">Example 5: Budget constraints</a></li></ul></li><li><a class="tocitem" href="../090-contributing/">Contributing guidelines</a></li><li><a class="tocitem" href="../091-developer/">Developer documentation</a></li><li><a class="tocitem" href="../092-reference/">Reference</a></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../001-Base/">Base</a></li><li><a class="tocitem" href="../002-Tools/">Tools</a></li><li><a class="tocitem" href="../003-PosdefMatrix/">PosdefMatrix</a></li><li><a class="tocitem" href="../004-Denoise/">Denoise</a></li><li><a class="tocitem" href="../005-Detone/">Detone</a></li><li><a class="tocitem" href="../006-MatrixProcessing/">Matrix Processing</a></li><li><input class="collapse-toggle" id="menuitem-6-7" type="checkbox" checked/><label class="tocitem" for="menuitem-6-7"><span class="docs-label">Moments</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../007-01-Moments/">Base Moments</a></li><li><a class="tocitem" href="../007-02-Moments/">Mean</a></li><li><a class="tocitem" href="../007-03-Moments/">Covariance</a></li><li><a class="tocitem" href="../007-04-Moments/">Variance and Standard Deviation</a></li><li><a class="tocitem" href="../007-05-Moments/">Gerber Covariance</a></li><li><a class="tocitem" href="../007-06-Moments/">Smyth-Broby Covariance</a></li><li><a class="tocitem" href="../007-07-Moments/">Distance Covariance</a></li><li><a class="tocitem" href="../007-08-Moments/">Lower Tail Dependence Covariance</a></li><li><a class="tocitem" href="../007-09-Moments/">Rank Covariances</a></li><li class="is-active"><a class="tocitem" href>Histogram</a></li><li><a class="tocitem" href="../007-11-Moments/">Mutual Information Covariance</a></li><li><a class="tocitem" href="../007-12-Moments/">PortfolioOptimisersCovariance</a></li><li><a class="tocitem" href="../007-13-Moments/">Shrunk Expected Returns</a></li><li><a class="tocitem" href="../007-14-Moments/">Equilibrium expected returns</a></li><li><a class="tocitem" href="../007-15-Moments/">Excess expected returns</a></li><li><a class="tocitem" href="../007-16-Moments/">Coskewness</a></li><li><a class="tocitem" href="../007-17-Moments/">Cokurtosis</a></li><li><a class="tocitem" href="../007-18-Moments/">Regression</a></li><li><a class="tocitem" href="../007-19-Moments/">Stepwise Regression</a></li><li><a class="tocitem" href="../007-20-Moments/">Dimensional Reduction Regression</a></li><li><a class="tocitem" href="../007-21-Moments/">Implied Volatility</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-8" type="checkbox"/><label class="tocitem" for="menuitem-6-8"><span class="docs-label">Distance</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../008-1-Distance/">Base Distance</a></li><li><a class="tocitem" href="../008-2-Distance/">Distance</a></li><li><a class="tocitem" href="../008-3-Distance/">Distances of Distances</a></li><li><a class="tocitem" href="../008-4-Distance/">General Distance</a></li><li><a class="tocitem" href="../008-5-Distance/">General Distance of Distances</a></li></ul></li><li><a class="tocitem" href="../009-JuMPModelOptimisation/">JuMP Model Optimisation</a></li><li><a class="tocitem" href="../010-OWA/">Ordered Weights Array</a></li><li><input class="collapse-toggle" id="menuitem-6-11" type="checkbox"/><label class="tocitem" for="menuitem-6-11"><span class="docs-label">Phylogeny</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../011-1-Base-Phylogeny/">Base Phylogeny</a></li><li><a class="tocitem" href="../011-2-Clustering/">Clustering</a></li><li><a class="tocitem" href="../011-3-Hierarchical/">Hierarchical</a></li><li><a class="tocitem" href="../011-4-DBTH/">Direct Bubble Hierarchy Tree</a></li><li><a class="tocitem" href="../011-5-Phylogeny/">Phylogeny</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li><a class="is-disabled">Moments</a></li><li class="is-active"><a href>Histogram</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Histogram</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/main/docs/src/007-10-Moments.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Histogram"><a class="docs-heading-anchor" href="#Histogram">Histogram</a><a id="Histogram-1"></a><a class="docs-heading-anchor-permalink" href="#Histogram" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.AbstractBins" href="#PortfolioOptimisers.AbstractBins"><code>PortfolioOptimisers.AbstractBins</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Abstract supertype for all histogram binning algorithms.</p><p><code>AbstractBins</code> is the abstract type for all binning algorithm types used in histogram-based calculations within PortfolioOptimisers.jl, such as mutual information and variation of information analysis. Concrete subtypes implement specific binning strategies (e.g., Knuth, Freedman-Diaconis, Scott, Hacine-Gharbi-Ravier) and provide a consistent interface for bin selection.</p><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.AstroPyBins"><code>AstroPyBins</code></a></li><li><a href="#PortfolioOptimisers.Knuth"><code>Knuth</code></a></li><li><a href="#PortfolioOptimisers.FreedmanDiaconis"><code>FreedmanDiaconis</code></a></li><li><a href="#PortfolioOptimisers.Scott"><code>Scott</code></a></li><li><a href="#PortfolioOptimisers.HacineGharbiRavier"><code>HacineGharbiRavier</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/31251c4d7efcfa2b6e037f1d311c433b9ad329f3/src/7_Moments/10_Histogram.jl#L1-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.AstroPyBins" href="#PortfolioOptimisers.AstroPyBins"><code>PortfolioOptimisers.AstroPyBins</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AstroPyBins &lt;: AbstractBins end</code></pre><p>Abstract supertype for all histogram binning algorithms implemented using AstroPy&#39;s bin width selection methods.</p><p><code>AstroPyBins</code> is the abstract type for all binning algorithm types that rely on bin width selection functions from the <a href="https://www.astropy.org/">AstroPy</a> Python library, such as Knuth, Freedman-Diaconis, and Scott. Concrete subtypes implement specific binning strategies and provide a consistent interface for bin selection in histogram-based calculations within PortfolioOptimisers.jl.</p><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.Knuth"><code>Knuth</code></a></li><li><a href="#PortfolioOptimisers.FreedmanDiaconis"><code>FreedmanDiaconis</code></a></li><li><a href="#PortfolioOptimisers.Scott"><code>Scott</code></a></li><li><a href="#PortfolioOptimisers.AbstractBins"><code>AbstractBins</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/31251c4d7efcfa2b6e037f1d311c433b9ad329f3/src/7_Moments/10_Histogram.jl#L16-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.Knuth" href="#PortfolioOptimisers.Knuth"><code>PortfolioOptimisers.Knuth</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Knuth &lt;: AstroPyBins</code></pre><p>Histogram binning algorithm using Knuth&#39;s rule.</p><p><code>Knuth</code> implements Knuth&#39;s rule for selecting the optimal number of bins in a histogram, as provided by the <a href="https://www.astropy.org/">AstroPy</a> library. This method aims to maximize the posterior probability of the histogram given the data, resulting in an adaptive binning strategy that balances bias and variance.</p><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.AstroPyBins"><code>AstroPyBins</code></a></li><li><a href="#PortfolioOptimisers.FreedmanDiaconis"><code>FreedmanDiaconis</code></a></li><li><a href="#PortfolioOptimisers.Scott"><code>Scott</code></a></li><li><a href="#PortfolioOptimisers.HacineGharbiRavier"><code>HacineGharbiRavier</code></a></li><li><a href="#PortfolioOptimisers.get_bin_width_func"><code>get_bin_width_func</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/31251c4d7efcfa2b6e037f1d311c433b9ad329f3/src/7_Moments/10_Histogram.jl#L32-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.FreedmanDiaconis" href="#PortfolioOptimisers.FreedmanDiaconis"><code>PortfolioOptimisers.FreedmanDiaconis</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FreedmanDiaconis &lt;: AstroPyBins</code></pre><p>Histogram binning algorithm using the Freedman-Diaconis rule.</p><p><code>FreedmanDiaconis</code> implements the Freedman-Diaconis rule for selecting the number of bins in a histogram, as provided by the <a href="https://www.astropy.org/">AstroPy</a> library. This method determines bin width based on the interquartile range (IQR) and the number of data points, making it robust to outliers and suitable for skewed distributions.</p><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.AstroPyBins"><code>AstroPyBins</code></a></li><li><a href="#PortfolioOptimisers.Knuth"><code>Knuth</code></a></li><li><a href="#PortfolioOptimisers.Scott"><code>Scott</code></a></li><li><a href="#PortfolioOptimisers.HacineGharbiRavier"><code>HacineGharbiRavier</code></a></li><li><a href="#PortfolioOptimisers.get_bin_width_func"><code>get_bin_width_func</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/31251c4d7efcfa2b6e037f1d311c433b9ad329f3/src/7_Moments/10_Histogram.jl#L48-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.Scott" href="#PortfolioOptimisers.Scott"><code>PortfolioOptimisers.Scott</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Scott &lt;: AstroPyBins</code></pre><p>Histogram binning algorithm using Scott&#39;s rule.</p><p><code>Scott</code> implements Scott&#39;s rule for selecting the number of bins in a histogram, as provided by the <a href="https://www.astropy.org/">AstroPy</a> library. This method chooses bin width based on the standard deviation of the data and the number of observations, providing a good default for normally distributed data.</p><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.AstroPyBins"><code>AstroPyBins</code></a></li><li><a href="#PortfolioOptimisers.Knuth"><code>Knuth</code></a></li><li><a href="#PortfolioOptimisers.FreedmanDiaconis"><code>FreedmanDiaconis</code></a></li><li><a href="#PortfolioOptimisers.HacineGharbiRavier"><code>HacineGharbiRavier</code></a></li><li><a href="#PortfolioOptimisers.get_bin_width_func"><code>get_bin_width_func</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/31251c4d7efcfa2b6e037f1d311c433b9ad329f3/src/7_Moments/10_Histogram.jl#L64-L78">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.HacineGharbiRavier" href="#PortfolioOptimisers.HacineGharbiRavier"><code>PortfolioOptimisers.HacineGharbiRavier</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">HacineGharbiRavier &lt;: AbstractBins</code></pre><p>Histogram binning algorithm using the Hacine-Gharbi–Ravier rule.</p><p><code>HacineGharbiRavier</code> implements the Hacine-Gharbi–Ravier rule for selecting the number of bins in a histogram. This method adapts the bin count based on the correlation structure and sample size, and is particularly useful for information-theoretic measures such as mutual information and variation of information.</p><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.AbstractBins"><code>AbstractBins</code></a></li><li><a href="#PortfolioOptimisers.AstroPyBins"><code>AstroPyBins</code></a></li><li><a href="#PortfolioOptimisers.Knuth"><code>Knuth</code></a></li><li><a href="#PortfolioOptimisers.FreedmanDiaconis"><code>FreedmanDiaconis</code></a></li><li><a href="#PortfolioOptimisers.Scott"><code>Scott</code></a></li><li><a href="#PortfolioOptimisers.get_bin_width_func"><code>get_bin_width_func</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/31251c4d7efcfa2b6e037f1d311c433b9ad329f3/src/7_Moments/10_Histogram.jl#L80-L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.get_bin_width_func" href="#PortfolioOptimisers.get_bin_width_func"><code>PortfolioOptimisers.get_bin_width_func</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_bin_width_func(bins::Union{&lt;:AbstractBins, &lt;:Integer})</code></pre><p>Return the bin width selection function associated with a histogram binning algorithm.</p><p>This utility dispatches on the binning algorithm type and returns the corresponding bin width function from the <a href="https://www.astropy.org/">AstroPy</a> Python library for <code>Knuth</code>, <code>FreedmanDiaconis</code>, and <code>Scott</code>. For <code>HacineGharbiRavier</code> and integer bin counts, it returns <code>nothing</code>, as these strategies do not use a bin width function.</p><p><strong>Arguments</strong></p><ul><li><code>bins::Knuth</code>: Use Knuth&#39;s rule (<code>astropy.stats.knuth_bin_width</code>).</li><li><code>bins::FreedmanDiaconis</code>: Use the Freedman-Diaconis rule (<code>astropy.stats.freedman_bin_width</code>).</li><li><code>bins::Scott</code>: Use Scott&#39;s rule (<code>astropy.stats.scott_bin_width</code>).</li><li><code>bins::Union{&lt;:HacineGharbiRavier, &lt;:Integer}</code>: No bin width function (returns <code>nothing</code>).</li></ul><p><strong>Returns</strong></p><ul><li><code>bin_width_func</code>: The corresponding bin width function (callable), or <code>nothing</code> if not applicable.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; PortfolioOptimisers.get_bin_width_func(Knuth())
Python: &lt;function knuth_bin_width at 0x7da1178e0fe0&gt;

julia&gt; PortfolioOptimisers.get_bin_width_func(FreedmanDiaconis())
Python: &lt;function freedman_bin_width at 0x7da1178e0fe0&gt;

julia&gt; PortfolioOptimisers.get_bin_width_func(Scott())
Python: &lt;function scott_bin_width at 0x7da1178e0fe0&gt;

julia&gt; PortfolioOptimisers.get_bin_width_func(HacineGharbiRavier())

julia&gt; PortfolioOptimisers.get_bin_width_func(10)
</code></pre><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.Knuth"><code>Knuth</code></a></li><li><a href="#PortfolioOptimisers.FreedmanDiaconis"><code>FreedmanDiaconis</code></a></li><li><a href="#PortfolioOptimisers.Scott"><code>Scott</code></a></li><li><a href="#PortfolioOptimisers.HacineGharbiRavier"><code>HacineGharbiRavier</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/31251c4d7efcfa2b6e037f1d311c433b9ad329f3/src/7_Moments/10_Histogram.jl#L98-L140">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.calc_num_bins" href="#PortfolioOptimisers.calc_num_bins"><code>PortfolioOptimisers.calc_num_bins</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_num_bins(bins::Union{&lt;:AbstractBins, &lt;:Integer},
              xj::AbstractVector, xi::AbstractVector, j::Integer, i::Integer,
              bin_width_func, T::Integer)</code></pre><p>Compute the number of histogram bins for a pair of variables using a specified binning algorithm.</p><p>This function determines the number of bins to use for histogram-based calculations (such as mutual information or variation of information) between two variables, based on the selected binning strategy. It dispatches on the binning algorithm type and uses the appropriate method for each:</p><ul><li>For <code>AstroPyBins</code>, it computes the bin width using the provided <code>bin_width_func</code> and calculates the number of bins as the range divided by the bin width, rounding to the nearest integer. For off-diagonal pairs, it uses the maximum of the two variables&#39; bin counts.</li><li>For <code>HacineGharbiRavier</code>, it uses the Hacine-Gharbi–Ravier rule, which adapts the bin count based on the correlation and sample size.</li><li>For an integer, it returns the specified number of bins directly.</li></ul><p><strong>Arguments</strong></p><ul><li><code>bins</code>: Binning algorithm/number.</li><li><code>xj</code>: Data vector for variable <code>j</code>.</li><li><code>xi</code>: Data vector for variable <code>i</code>.</li><li><code>j</code>: Index of variable <code>j</code>.</li><li><code>i</code>: Index of variable <code>i</code>.</li><li><code>bin_width_func</code>: Bin width selection function (from <code>get_bin_width_func</code>), or <code>nothing</code>.</li><li><code>T</code>: Number of observations (used by some algorithms).</li></ul><p><strong>Returns</strong></p><ul><li><code>nbins::Int</code>: The computed number of bins for the variable pair.</li></ul><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.get_bin_width_func"><code>get_bin_width_func</code></a></li><li><a href="#PortfolioOptimisers.Knuth"><code>Knuth</code></a></li><li><a href="#PortfolioOptimisers.FreedmanDiaconis"><code>FreedmanDiaconis</code></a></li><li><a href="#PortfolioOptimisers.Scott"><code>Scott</code></a></li><li><a href="#PortfolioOptimisers.HacineGharbiRavier"><code>HacineGharbiRavier</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/31251c4d7efcfa2b6e037f1d311c433b9ad329f3/src/7_Moments/10_Histogram.jl#L154-L188">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.calc_hist_data" href="#PortfolioOptimisers.calc_hist_data"><code>PortfolioOptimisers.calc_hist_data</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_hist_data(xj::AbstractVector, xi::AbstractVector, bins::Integer)</code></pre><p>Compute histogram-based marginal and joint distributions for two variables.</p><p>This function computes the normalised histograms (probability mass functions) for two variables <code>xj</code> and <code>xi</code> using the specified number of bins, as well as their joint histogram. It returns the marginal entropies and the joint histogram, which are used in mutual information and variation of information calculations.</p><p><strong>Arguments</strong></p><ul><li><code>xj</code>: Data vector for variable <code>j</code>.</li><li><code>xi</code>: Data vector for variable <code>i</code>.</li><li><code>bins</code>: Number of bins to use for the histograms.</li></ul><p><strong>Returns</strong></p><ul><li><code>ex::Real</code>: Entropy of <code>xj</code>.</li><li><code>ey::Real</code>: Entropy of <code>xi</code>.</li><li><code>hxy::Matrix{&lt;:Real}</code>: Joint histogram (counts, not normalised to probability).</li></ul><p><strong>Details</strong></p><ul><li>The histograms are computed using <code>StatsBase.fit(Histogram, ...)</code> over the range of each variable, with bin edges expanded slightly using <code>eps</code> to ensure all data is included.</li><li>The marginal histograms are normalised to sum to 1 before entropy calculation.</li><li>The joint histogram is not normalised, as it is used directly in mutual information calculations.</li></ul><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.variation_info"><code>variation_info</code></a></li><li><a href="#PortfolioOptimisers.mutual_info"><code>mutual_info</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/31251c4d7efcfa2b6e037f1d311c433b9ad329f3/src/7_Moments/10_Histogram.jl#L217-L246">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.intrinsic_mutual_info" href="#PortfolioOptimisers.intrinsic_mutual_info"><code>PortfolioOptimisers.intrinsic_mutual_info</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">intrinsic_mutual_info(X::AbstractMatrix)</code></pre><p>Compute the intrinsic mutual information from a joint histogram.</p><p>This function calculates the mutual information between two variables given their joint histogram matrix <code>X</code>. It is used as a core step in information-theoretic measures such as mutual information and variation of information.</p><p><strong>Arguments</strong></p><ul><li><code>X</code>: Joint histogram matrix (typically from <code>calc_hist_data</code>).</li></ul><p><strong>Returns</strong></p><ul><li><code>mi::Real</code>: The intrinsic mutual information between the two variables.</li></ul><p><strong>Details</strong></p><ul><li>The function computes marginal distributions by summing over rows and columns.</li><li>Only nonzero entries in the joint histogram are considered.</li><li>The mutual information is computed as the sum over all nonzero joint probabilities of <code>p(x, y) * log(p(x, y) / (p(x) * p(y)))</code>, with careful handling of log and normalisation.</li></ul><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.calc_hist_data"><code>calc_hist_data</code></a></li><li><a href="#PortfolioOptimisers.variation_info"><code>variation_info</code></a></li><li><a href="#PortfolioOptimisers.mutual_info"><code>mutual_info</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/31251c4d7efcfa2b6e037f1d311c433b9ad329f3/src/7_Moments/10_Histogram.jl#L272-L298">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.variation_info" href="#PortfolioOptimisers.variation_info"><code>PortfolioOptimisers.variation_info</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">variation_info(X::AbstractMatrix,
               bins::Union{&lt;:AbstractBins, &lt;:Integer} = HacineGharbiRavier(),
               normalise::Bool = true)</code></pre><p>Compute the variation of information (VI) matrix for a set of variables.</p><p>This function calculates the pairwise variation of information between all columns of the data matrix <code>X</code>, using histogram-based entropy and mutual information estimates. VI quantifies the amount of information lost and gained when moving from one variable to another, and is a true metric on the space of discrete distributions.</p><p><strong>Arguments</strong></p><ul><li><code>X</code>: Data matrix (observations × variables).</li><li><code>bins</code>: Binning algorithm or fixed number of bins.</li><li><code>normalise</code>: Whether to normalise the VI by the joint entropy.</li></ul><p><strong>Returns</strong></p><ul><li><code>var_mtx::Matrix{&lt;:Real}</code>: Symmetric matrix of pairwise variation of information values.</li></ul><p><strong>Details</strong></p><ul><li>For each pair of variables, the function computes marginal entropies and the joint histogram using <code>calc_hist_data</code>.</li><li>The mutual information is computed using <code>intrinsic_mutual_info</code>.</li><li>VI is calculated as <code>H(X) + H(Y) - 2 * I(X, Y)</code>. If <code>normalise</code> is <code>true</code>, it is divided by the joint entropy.</li><li>The result is clamped to <code>[0, typemax(eltype(X))]</code> and is symmetric.</li></ul><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.mutual_info"><code>mutual_info</code></a></li><li><a href="#PortfolioOptimisers.calc_hist_data"><code>calc_hist_data</code></a></li><li><a href="#PortfolioOptimisers.intrinsic_mutual_info"><code>intrinsic_mutual_info</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/31251c4d7efcfa2b6e037f1d311c433b9ad329f3/src/7_Moments/10_Histogram.jl#L323-L354">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.mutual_info" href="#PortfolioOptimisers.mutual_info"><code>PortfolioOptimisers.mutual_info</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mutual_info(X::AbstractMatrix,
            bins::Union{&lt;:AbstractBins, &lt;:Integer} = HacineGharbiRavier(),
            normalise::Bool = true)</code></pre><p>Compute the mutual information (MI) matrix for a set of variables.</p><p>This function calculates the pairwise mutual information between all columns of the data matrix <code>X</code>, using histogram-based entropy and mutual information estimates. MI quantifies the amount of shared information between pairs of variables, and is widely used in information-theoretic analysis of dependencies.</p><p><strong>Arguments</strong></p><ul><li><code>X</code>: Data matrix (observations × variables).</li><li><code>bins</code>: Binning algorithm or fixed number of bins.</li><li><code>normalise</code>: Whether to normalise the MI by the minimum marginal entropy.</li></ul><p><strong>Returns</strong></p><ul><li><code>mut_mtx::Matrix{&lt;:Real}</code>: Symmetric matrix of pairwise mutual information values.</li></ul><p><strong>Details</strong></p><ul><li>For each pair of variables, the function computes marginal entropies and the joint histogram using <a href="#PortfolioOptimisers.calc_hist_data"><code>calc_hist_data</code></a>.</li><li>The mutual information is computed using <a href="#PortfolioOptimisers.intrinsic_mutual_info"><code>intrinsic_mutual_info</code></a>.</li><li>If <code>normalise</code> is <code>true</code>, the MI is divided by the minimum of the two marginal entropies.</li><li>The result is clamped to <code>[0, typemax(eltype(X))]</code> and is symmetric.</li></ul><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.variation_info"><code>variation_info</code></a></li><li><a href="#PortfolioOptimisers.calc_hist_data"><code>calc_hist_data</code></a></li><li><a href="#PortfolioOptimisers.intrinsic_mutual_info"><code>intrinsic_mutual_info</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/31251c4d7efcfa2b6e037f1d311c433b9ad329f3/src/7_Moments/10_Histogram.jl#L424-L455">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../007-09-Moments/">« Rank Covariances</a><a class="docs-footer-nextpage" href="../007-11-Moments/">Mutual Information Covariance »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Saturday 6 September 2025 08:14">Saturday 6 September 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
