<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Shrunk Expected Returns · PortfolioOptimisers.jl</title><meta name="title" content="Shrunk Expected Returns · PortfolioOptimisers.jl"/><meta property="og:title" content="Shrunk Expected Returns · PortfolioOptimisers.jl"/><meta property="twitter:title" content="Shrunk Expected Returns · PortfolioOptimisers.jl"/><meta name="description" content="Documentation for PortfolioOptimisers.jl."/><meta property="og:description" content="Documentation for PortfolioOptimisers.jl."/><meta property="twitter:description" content="Documentation for PortfolioOptimisers.jl."/><meta property="og:url" content="https://dcelisgarza.github.io/PortfolioOptimisers.jl/007-13-Moments/"/><meta property="twitter:url" content="https://dcelisgarza.github.io/PortfolioOptimisers.jl/007-13-Moments/"/><link rel="canonical" href="https://dcelisgarza.github.io/PortfolioOptimisers.jl/007-13-Moments/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="PortfolioOptimisers.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">PortfolioOptimisers.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">PortfolioOptimisers</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/1-Getting-Started/">Example 1: Simple <code>MeanRisk</code> optimisation</a></li><li><a class="tocitem" href="../examples/2-Mean-Risk-Objectives/">Example 2: <code>MeanRisk</code> objectives</a></li><li><a class="tocitem" href="../examples/3-Efficient-Frontier/">Example 3: Efficient frontier</a></li><li><a class="tocitem" href="../examples/4-Pareto-Surface/">Example 4: Pareto surface</a></li><li><a class="tocitem" href="../examples/5-Budget-Constraints/">Example 5: Budget constraints</a></li></ul></li><li><a class="tocitem" href="../090-contributing/">Contributing guidelines</a></li><li><a class="tocitem" href="../091-developer/">Developer documentation</a></li><li><a class="tocitem" href="../092-reference/">Reference</a></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../001-Base/">Base</a></li><li><a class="tocitem" href="../002-Tools/">Tools</a></li><li><a class="tocitem" href="../003-PosdefMatrix/">PosdefMatrix</a></li><li><a class="tocitem" href="../004-Denoise/">Denoise</a></li><li><a class="tocitem" href="../005-Detone/">Detone</a></li><li><a class="tocitem" href="../006-MatrixProcessing/">Matrix Processing</a></li><li><input class="collapse-toggle" id="menuitem-6-7" type="checkbox" checked/><label class="tocitem" for="menuitem-6-7"><span class="docs-label">Moments</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../007-01-Moments/">Base Moments</a></li><li><a class="tocitem" href="../007-02-Moments/">Mean</a></li><li><a class="tocitem" href="../007-03-Moments/">Covariance</a></li><li><a class="tocitem" href="../007-04-Moments/">Variance and Standard Deviation</a></li><li><a class="tocitem" href="../007-05-Moments/">Gerber Covariance</a></li><li><a class="tocitem" href="../007-06-Moments/">Smyth-Broby Covariance</a></li><li><a class="tocitem" href="../007-07-Moments/">Distance Covariance</a></li><li><a class="tocitem" href="../007-08-Moments/">Lower Tail Dependence Covariance</a></li><li><a class="tocitem" href="../007-09-Moments/">Rank Covariances</a></li><li><a class="tocitem" href="../007-10-Moments/">Histogram</a></li><li><a class="tocitem" href="../007-11-Moments/">Mutual Information Covariance</a></li><li><a class="tocitem" href="../007-12-Moments/">PortfolioOptimisersCovariance</a></li><li class="is-active"><a class="tocitem" href>Shrunk Expected Returns</a></li><li><a class="tocitem" href="../007-14-Moments/">Equilibrium expected returns</a></li><li><a class="tocitem" href="../007-15-Moments/">Excess expected returns</a></li><li><a class="tocitem" href="../007-16-Moments/">Coskewness</a></li><li><a class="tocitem" href="../007-17-Moments/">Cokurtosis</a></li><li><a class="tocitem" href="../007-18-Moments/">Regression</a></li><li><a class="tocitem" href="../007-19-Moments/">Stepwise Regression</a></li><li><a class="tocitem" href="../007-20-Moments/">Dimensional Reduction Regression</a></li><li><a class="tocitem" href="../007-21-Moments/">Implied Volatility</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-8" type="checkbox"/><label class="tocitem" for="menuitem-6-8"><span class="docs-label">Distance</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../008-1-Distance/">Base Distance</a></li><li><a class="tocitem" href="../008-2-Distance/">Distance</a></li><li><a class="tocitem" href="../008-3-Distance/">Distances of Distances</a></li><li><a class="tocitem" href="../008-4-Distance/">General Distance</a></li><li><a class="tocitem" href="../008-5-Distance/">General Distance of Distances</a></li></ul></li><li><a class="tocitem" href="../009-JuMPModelOptimisation/">JuMP Model Optimisation</a></li><li><a class="tocitem" href="../010-OWA/">Ordered Weights Array</a></li><li><input class="collapse-toggle" id="menuitem-6-11" type="checkbox"/><label class="tocitem" for="menuitem-6-11"><span class="docs-label">Phylogeny</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../011-1-Phylogeny/">Base Phylogeny</a></li><li><a class="tocitem" href="../011-2-Phylogeny/">Clustering</a></li><li><a class="tocitem" href="../011-3-Phylogeny/">Hierarchical</a></li><li><a class="tocitem" href="../011-4-Phylogeny/">Direct Bubble Hierarchy Tree</a></li><li><a class="tocitem" href="../011-5-Phylogeny/">Phylogeny</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-12" type="checkbox"/><label class="tocitem" for="menuitem-6-12"><span class="docs-label">Constraint Generation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../012-1-ConstraintGeneration/">Base Constraint Generation</a></li><li><a class="tocitem" href="../012-2-ConstraintGeneration/">Linear Constraints</a></li><li><a class="tocitem" href="../012-3-ConstraintGeneration/">Phylogeny Constraints</a></li><li><a class="tocitem" href="../012-4-ConstraintGeneration/">Weight Bounds</a></li><li><a class="tocitem" href="../012-5-ConstraintGeneration/">Buy-in Threshold Constraints</a></li></ul></li><li><a class="tocitem" href="../013-10-Prior/">Prior</a></li><li><a class="tocitem" href="../019-15-Optimisation/">Optimisation</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li><a class="is-disabled">Moments</a></li><li class="is-active"><a href>Shrunk Expected Returns</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Shrunk Expected Returns</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/main/docs/src/007-13-Moments.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Shrunk-Expected-Returns"><a class="docs-heading-anchor" href="#Shrunk-Expected-Returns">Shrunk Expected Returns</a><a id="Shrunk-Expected-Returns-1"></a><a class="docs-heading-anchor-permalink" href="#Shrunk-Expected-Returns" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.GrandMean" href="#PortfolioOptimisers.GrandMean"><code>PortfolioOptimisers.GrandMean</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct GrandMean &lt;: AbstractShrunkExpectedReturnsTarget end</code></pre><p>Shrinkage target representing the grand mean of expected returns.</p><p><code>GrandMean</code> computes the shrinkage target as the mean of all asset expected returns, resulting in a vector where each element is the same grand mean value. This is commonly used in shrinkage estimators to reduce estimation error by pulling individual expected returns toward the overall average.</p><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.AbstractShrunkExpectedReturnsTarget"><code>AbstractShrunkExpectedReturnsTarget</code></a></li><li><a href="#PortfolioOptimisers.ShrunkExpectedReturns"><code>ShrunkExpectedReturns</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/b542f6351029a6aea46f6e6d10175fe717579f7c/src/7_Moments/13_ShrunkExpectedReturns.jl#L52-L65">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.VolatilityWeighted" href="#PortfolioOptimisers.VolatilityWeighted"><code>PortfolioOptimisers.VolatilityWeighted</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct VolatilityWeighted &lt;: AbstractShrunkExpectedReturnsTarget end</code></pre><p>Shrinkage target representing the volatility-weighted mean of expected returns.</p><p><code>VolatilityWeighted</code> computes the shrinkage target as a weighted mean of expected returns, where weights are inversely proportional to asset volatility (from the inverse covariance matrix). This approach accounts for differences in asset risk when estimating the shrinkage target.</p><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.AbstractShrunkExpectedReturnsTarget"><code>AbstractShrunkExpectedReturnsTarget</code></a></li><li><a href="#PortfolioOptimisers.ShrunkExpectedReturns"><code>ShrunkExpectedReturns</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/b542f6351029a6aea46f6e6d10175fe717579f7c/src/7_Moments/13_ShrunkExpectedReturns.jl#L68-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.MeanSquareError" href="#PortfolioOptimisers.MeanSquareError"><code>PortfolioOptimisers.MeanSquareError</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct MeanSquareError &lt;: AbstractShrunkExpectedReturnsTarget end</code></pre><p>Shrinkage target representing the mean squared error of expected returns.</p><p><code>MeanSquareError</code> computes the shrinkage target as the trace of the covariance matrix divided by the number of observations, resulting in a vector where each element is the same value. This target is useful for certain shrinkage estimators that minimize mean squared error.</p><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.AbstractShrunkExpectedReturnsTarget"><code>AbstractShrunkExpectedReturnsTarget</code></a></li><li><a href="#PortfolioOptimisers.ShrunkExpectedReturns"><code>ShrunkExpectedReturns</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/b542f6351029a6aea46f6e6d10175fe717579f7c/src/7_Moments/13_ShrunkExpectedReturns.jl#L84-L97">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.JamesStein" href="#PortfolioOptimisers.JamesStein"><code>PortfolioOptimisers.JamesStein</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct JamesStein{T1} &lt;: AbstractShrunkExpectedReturnsAlgorithm
    target::T1
end</code></pre><p>Shrinkage algorithm implementing the James-Stein estimator for expected returns.</p><p><code>JamesStein</code> applies shrinkage to asset expected returns by pulling them toward a specified target (e.g., grand mean, volatility-weighted mean). The estimator reduces estimation error, especially in high-dimensional settings.</p><p><strong>Fields</strong></p><ul><li><code>target</code>: The shrinkage target type.</li></ul><p><strong>Constructor</strong></p><pre><code class="language-julia hljs">JamesStein(; target::AbstractShrunkExpectedReturnsTarget = GrandMean())</code></pre><p>Keyword arguments correspond to the fields above.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; JamesStein()
JamesStein
  target | GrandMean()</code></pre><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.AbstractShrunkExpectedReturnsAlgorithm"><code>AbstractShrunkExpectedReturnsAlgorithm</code></a></li><li><a href="#PortfolioOptimisers.AbstractShrunkExpectedReturnsTarget"><code>AbstractShrunkExpectedReturnsTarget</code></a></li><li><a href="#PortfolioOptimisers.BayesStein"><code>BayesStein</code></a></li><li><a href="#PortfolioOptimisers.BodnarOkhrinParolya"><code>BodnarOkhrinParolya</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/b542f6351029a6aea46f6e6d10175fe717579f7c/src/7_Moments/13_ShrunkExpectedReturns.jl#L100-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.BayesStein" href="#PortfolioOptimisers.BayesStein"><code>PortfolioOptimisers.BayesStein</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct BayesStein{T1} &lt;: AbstractShrunkExpectedReturnsAlgorithm
    target::T1
end</code></pre><p>Shrinkage algorithm implementing the Bayes-Stein estimator for expected returns.</p><p><code>BayesStein</code> applies shrinkage to asset expected returns by pulling them toward a specified target (e.g., grand mean, volatility-weighted mean) using Bayesian principles. This estimator is useful for reducing estimation error, especially when sample sizes are small.</p><p><strong>Fields</strong></p><ul><li><code>target</code>: The shrinkage target type.</li></ul><p><strong>Constructor</strong></p><pre><code class="language-julia hljs">BayesStein(; target::AbstractShrunkExpectedReturnsTarget = GrandMean())</code></pre><p>Keyword arguments correspond to the fields above.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; BayesStein()
BayesStein
  target | GrandMean()</code></pre><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.AbstractShrunkExpectedReturnsAlgorithm"><code>AbstractShrunkExpectedReturnsAlgorithm</code></a></li><li><a href="#PortfolioOptimisers.AbstractShrunkExpectedReturnsTarget"><code>AbstractShrunkExpectedReturnsTarget</code></a></li><li><a href="#PortfolioOptimisers.JamesStein"><code>JamesStein</code></a></li><li><a href="#PortfolioOptimisers.BodnarOkhrinParolya"><code>BodnarOkhrinParolya</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/b542f6351029a6aea46f6e6d10175fe717579f7c/src/7_Moments/13_ShrunkExpectedReturns.jl#L145-L182">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.BodnarOkhrinParolya" href="#PortfolioOptimisers.BodnarOkhrinParolya"><code>PortfolioOptimisers.BodnarOkhrinParolya</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct BodnarOkhrinParolya{T1} &lt;: AbstractShrunkExpectedReturnsAlgorithm
    target::T1
end</code></pre><p>Shrinkage algorithm implementing the Bodnar-Okhrin-Parolya estimator for expected returns.</p><p><code>BodnarOkhrinParolya</code> applies shrinkage to asset expected returns by pulling them toward a specified target (e.g., grand mean, volatility-weighted mean) using the Bodnar-Okhrin-Parolya approach. This estimator is designed for robust estimation in high-dimensional settings.</p><p><strong>Fields</strong></p><ul><li><code>target</code>: The shrinkage target type.</li></ul><p><strong>Constructor</strong></p><pre><code class="language-julia hljs">BodnarOkhrinParolya(; target::AbstractShrunkExpectedReturnsTarget = GrandMean())</code></pre><p>Keyword arguments correspond to the fields above.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; BodnarOkhrinParolya()
BodnarOkhrinParolya
  target | GrandMean()</code></pre><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.AbstractShrunkExpectedReturnsAlgorithm"><code>AbstractShrunkExpectedReturnsAlgorithm</code></a></li><li><a href="#PortfolioOptimisers.AbstractShrunkExpectedReturnsTarget"><code>AbstractShrunkExpectedReturnsTarget</code></a></li><li><a href="#PortfolioOptimisers.JamesStein"><code>JamesStein</code></a></li><li><a href="#PortfolioOptimisers.BayesStein"><code>BayesStein</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/b542f6351029a6aea46f6e6d10175fe717579f7c/src/7_Moments/13_ShrunkExpectedReturns.jl#L190-L227">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.ShrunkExpectedReturns" href="#PortfolioOptimisers.ShrunkExpectedReturns"><code>PortfolioOptimisers.ShrunkExpectedReturns</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ShrunkExpectedReturns{T1, T2, T3} &lt;: AbstractShrunkExpectedReturnsEstimator
    me::T1
    ce::T2
    alg::T3
end</code></pre><p>Container type for shrinkage-based expected returns estimators.</p><p><code>ShrunkExpectedReturns</code> encapsulates all components required for shrinkage estimation of expected returns, including the mean estimator, covariance estimator, and shrinkage algorithm. This enables modular and extensible workflows for robust expected returns estimation using shrinkage techniques.</p><p><strong>Fields</strong></p><ul><li><code>me</code>: Mean estimator for expected returns.</li><li><code>ce</code>: Covariance estimator.</li><li><code>alg</code>: Shrinkage algorithm (e.g., James-Stein, Bayes-Stein).</li></ul><p><strong>Constructor</strong></p><pre><code class="language-julia hljs">ShrunkExpectedReturns(; me::AbstractExpectedReturnsEstimator = SimpleExpectedReturns(),
                      ce::StatsBase.CovarianceEstimator = PortfolioOptimisersCovariance(),
                      alg::AbstractShrunkExpectedReturnsAlgorithm = JamesStein())</code></pre><p>Keyword arguments correspond to the fields above.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ShrunkExpectedReturns()
ShrunkExpectedReturns
   me | SimpleExpectedReturns
      |   w | nothing
   ce | PortfolioOptimisersCovariance
      |   ce | Covariance
      |      |    me | SimpleExpectedReturns
      |      |       |   w | nothing
      |      |    ce | GeneralWeightedCovariance
      |      |       |   ce | StatsBase.SimpleCovariance: StatsBase.SimpleCovariance(true)
      |      |       |    w | nothing
      |      |   alg | Full()
      |   mp | DefaultMatrixProcessing
      |      |       pdm | Posdef
      |      |           |   alg | UnionAll: NearestCorrelationMatrix.Newton
      |      |   denoise | nothing
      |      |    detone | nothing
      |      |       alg | nothing
  alg | JamesStein
      |   target | GrandMean()</code></pre><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.AbstractShrunkExpectedReturnsEstimator"><code>AbstractShrunkExpectedReturnsEstimator</code></a></li><li><a href="../007-01-Moments/#PortfolioOptimisers.AbstractExpectedReturnsEstimator"><code>AbstractExpectedReturnsEstimator</code></a></li><li><a href="https://juliastats.org/StatsBase.jl/stable/cov/#StatsBase.CovarianceEstimator"><code>StatsBase.CovarianceEstimator</code></a></li><li><a href="#PortfolioOptimisers.AbstractShrunkExpectedReturnsAlgorithm"><code>AbstractShrunkExpectedReturnsAlgorithm</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/b542f6351029a6aea46f6e6d10175fe717579f7c/src/7_Moments/13_ShrunkExpectedReturns.jl#L235-L295">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Statistics.mean-Tuple{ShrunkExpectedReturns{&lt;:Any, &lt;:Any, &lt;:JamesStein}, AbstractMatrix}" href="#Statistics.mean-Tuple{ShrunkExpectedReturns{&lt;:Any, &lt;:Any, &lt;:JamesStein}, AbstractMatrix}"><code>Statistics.mean</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mean(me::ShrunkExpectedReturns, X::AbstractMatrix; dims::Int = 1, kwargs...)</code></pre><p>Compute shrunk expected returns using the specified estimator.</p><p>This method applies a shrinkage algorithm to the sample expected returns, pulling them toward a specified target to reduce estimation error, especially in high-dimensional settings.</p><p><strong>Arguments</strong></p><ul><li><p><code>me</code>: Shrunk expected returns estimator.</p><ul><li><code>me::ShrunkExpectedReturns{&lt;:Any, &lt;:Any, &lt;:JamesStein}</code>: Use the James-Stein algorithm.</li><li><code>me::ShrunkExpectedReturns{&lt;:Any, &lt;:Any, &lt;:BayesStein}</code>: Use the Bayes-Stein algorithm.</li><li><code>me::ShrunkExpectedReturns{&lt;:Any, &lt;:Any, &lt;:BodnarOkhrinParolya}</code>: Use the Bodnar-Okhrin-Parolya algorithm.</li></ul></li><li><p><code>X</code>: Data matrix (observations × assets).</p></li><li><p><code>dims</code>: Dimension along which to compute the mean.</p></li><li><p><code>kwargs...</code>: Additional keyword arguments passed to the mean and covariance estimators.</p></li></ul><p><strong>Returns</strong></p><ul><li><code>mu::AbstractArray</code>: Shrunk expected returns vector.</li></ul><p><strong>Details</strong></p><ul><li><p>Computes the sample mean and covariance.</p></li><li><p>Computes the shrinkage target using <code>target_mean</code>.</p></li><li><p>Computes the shrinkage intensity <code>alpha</code> with:</p><ul><li><code>JamesStein</code>: the centered mean and eigenvalues of the covariance matrix.</li><li><code>BayesStein</code>: a Bayesian formula involving the centered mean and inverse covariance.</li><li><code>BodnarOkhrinParolya</code>: a Bayesian formula involving the target mean, mean and inverse covariance.</li></ul></li><li><p>ReturnsResult the shrunk mean vector.</p></li></ul><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.JamesStein"><code>JamesStein</code></a></li><li><a href="#PortfolioOptimisers.BayesStein"><code>BayesStein</code></a></li><li><a href="#PortfolioOptimisers.BodnarOkhrinParolya"><code>BodnarOkhrinParolya</code></a></li><li><a href="#PortfolioOptimisers.ShrunkExpectedReturns"><code>ShrunkExpectedReturns</code></a></li><li><a href="#PortfolioOptimisers.target_mean"><code>target_mean</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/b542f6351029a6aea46f6e6d10175fe717579f7c/src/7_Moments/13_ShrunkExpectedReturns.jl#L359-L403">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.AbstractShrunkExpectedReturnsEstimator" href="#PortfolioOptimisers.AbstractShrunkExpectedReturnsEstimator"><code>PortfolioOptimisers.AbstractShrunkExpectedReturnsEstimator</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractShrunkExpectedReturnsEstimator &lt;: AbstractExpectedReturnsEstimator end</code></pre><p>Abstract supertype for all shrunk expected returns estimators in PortfolioOptimisers.jl.</p><p>All concrete types implementing shrinkage-based expected returns estimation algorithms should subtype <code>AbstractShrunkExpectedReturnsEstimator</code>. This enables a consistent interface for shrinkage estimators throughout the package.</p><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.ShrunkExpectedReturns"><code>ShrunkExpectedReturns</code></a></li><li><a href="../007-01-Moments/#PortfolioOptimisers.AbstractExpectedReturnsEstimator"><code>AbstractExpectedReturnsEstimator</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/b542f6351029a6aea46f6e6d10175fe717579f7c/src/7_Moments/13_ShrunkExpectedReturns.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.AbstractShrunkExpectedReturnsAlgorithm" href="#PortfolioOptimisers.AbstractShrunkExpectedReturnsAlgorithm"><code>PortfolioOptimisers.AbstractShrunkExpectedReturnsAlgorithm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractShrunkExpectedReturnsAlgorithm &lt;: AbstractExpectedReturnsAlgorithm end</code></pre><p>Abstract supertype for all shrinkage algorithms for expected returns estimation.</p><p>All concrete types implementing specific shrinkage algorithms (e.g., James-Stein, Bayes-Stein) should subtype <code>AbstractShrunkExpectedReturnsAlgorithm</code>. This enables flexible extension and dispatch of shrinkage routines.</p><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.JamesStein"><code>JamesStein</code></a></li><li><a href="#PortfolioOptimisers.BayesStein"><code>BayesStein</code></a></li><li><a href="#PortfolioOptimisers.BodnarOkhrinParolya"><code>BodnarOkhrinParolya</code></a></li><li><a href="../007-01-Moments/#PortfolioOptimisers.AbstractExpectedReturnsAlgorithm"><code>AbstractExpectedReturnsAlgorithm</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/b542f6351029a6aea46f6e6d10175fe717579f7c/src/7_Moments/13_ShrunkExpectedReturns.jl#L17-L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.AbstractShrunkExpectedReturnsTarget" href="#PortfolioOptimisers.AbstractShrunkExpectedReturnsTarget"><code>PortfolioOptimisers.AbstractShrunkExpectedReturnsTarget</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractShrunkExpectedReturnsTarget &lt;: AbstractExpectedReturnsAlgorithm end</code></pre><p>Abstract supertype for all shrinkage targets used in expected returns estimation.</p><p>Concrete types implementing specific shrinkage targets (e.g., grand mean, volatility-weighted mean) should subtype <code>AbstractShrunkExpectedReturnsTarget</code>. This enables modular selection of shrinkage targets in shrinkage algorithms.</p><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.GrandMean"><code>GrandMean</code></a></li><li><a href="#PortfolioOptimisers.VolatilityWeighted"><code>VolatilityWeighted</code></a></li><li><a href="#PortfolioOptimisers.MeanSquareError"><code>MeanSquareError</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/b542f6351029a6aea46f6e6d10175fe717579f7c/src/7_Moments/13_ShrunkExpectedReturns.jl#L35-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.target_mean" href="#PortfolioOptimisers.target_mean"><code>PortfolioOptimisers.target_mean</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">target_mean(::AbstractShrunkExpectedReturnsTarget, mu::AbstractArray, sigma::AbstractMatrix;
            kwargs...)</code></pre><p>Compute the shrinkage target vector for expected returns estimation.</p><p><code>target_mean</code> calculates the target vector toward which expected returns are shrunk, based on the specified shrinkage target type. This function is used internally by shrinkage estimators such as James-Stein, Bayes-Stein, and Bodnar-Okhrin-Parolya.</p><p><strong>Arguments</strong></p><ul><li><p><code>target</code>: The shrinkage target type.</p><ul><li><code>target::GrandMean</code>: Returns a vector filled with the mean of <code>mu</code>.</li><li><code>target::VolatilityWeighted</code>: Returns a vector filled with the volatility-weighted mean of <code>mu</code>, using the inverse covariance matrix.</li><li><code>target::MeanSquareError</code>: Returns a vector filled with the trace of <code>sigma</code> divided by <code>T</code>.</li></ul></li><li><p><code>mu</code>: 1D array of expected returns.</p></li><li><p><code>sigma</code>: Covariance matrix of asset returns.</p></li><li><p><code>kwargs...</code>: Additional keyword arguments, such as <code>T</code> (number of observations) or <code>isigma</code> (inverse covariance matrix).</p></li></ul><p><strong>Returns</strong></p><ul><li><code>b::AbstractArray</code>: Target vector for shrinkage estimation.</li></ul><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.GrandMean"><code>GrandMean</code></a></li><li><a href="#PortfolioOptimisers.VolatilityWeighted"><code>VolatilityWeighted</code></a></li><li><a href="#PortfolioOptimisers.MeanSquareError"><code>MeanSquareError</code></a></li><li><a href="#PortfolioOptimisers.ShrunkExpectedReturns"><code>ShrunkExpectedReturns</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/b542f6351029a6aea46f6e6d10175fe717579f7c/src/7_Moments/13_ShrunkExpectedReturns.jl#L308-L340">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../007-12-Moments/">« PortfolioOptimisersCovariance</a><a class="docs-footer-nextpage" href="../007-14-Moments/">Equilibrium expected returns »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Saturday 20 September 2025 15:57">Saturday 20 September 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
