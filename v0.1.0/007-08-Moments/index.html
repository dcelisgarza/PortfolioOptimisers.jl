<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Lower Tail Dependence Covariance · PortfolioOptimisers.jl</title><meta name="title" content="Lower Tail Dependence Covariance · PortfolioOptimisers.jl"/><meta property="og:title" content="Lower Tail Dependence Covariance · PortfolioOptimisers.jl"/><meta property="twitter:title" content="Lower Tail Dependence Covariance · PortfolioOptimisers.jl"/><meta name="description" content="Documentation for PortfolioOptimisers.jl."/><meta property="og:description" content="Documentation for PortfolioOptimisers.jl."/><meta property="twitter:description" content="Documentation for PortfolioOptimisers.jl."/><meta property="og:url" content="https://dcelisgarza.github.io/PortfolioOptimisers.jl/007-08-Moments/"/><meta property="twitter:url" content="https://dcelisgarza.github.io/PortfolioOptimisers.jl/007-08-Moments/"/><link rel="canonical" href="https://dcelisgarza.github.io/PortfolioOptimisers.jl/007-08-Moments/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="PortfolioOptimisers.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">PortfolioOptimisers.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">PortfolioOptimisers</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/1-Getting-Started/">Example 1: Simple <code>MeanRisk</code> optimisation</a></li><li><a class="tocitem" href="../examples/2-Mean-Risk-Objectives/">Example 2: <code>MeanRisk</code> objectives</a></li><li><a class="tocitem" href="../examples/3-Efficient-Frontier/">Example 3: Efficient frontier</a></li><li><a class="tocitem" href="../examples/4-Pareto-Surface/">Example 4: Pareto surface</a></li><li><a class="tocitem" href="../examples/5-Budget-Constraints/">Example 5: Budget constraints</a></li></ul></li><li><a class="tocitem" href="../090-contributing/">Contributing guidelines</a></li><li><a class="tocitem" href="../091-developer/">Developer documentation</a></li><li><a class="tocitem" href="../092-reference/">Reference</a></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../001-Base/">Base</a></li><li><a class="tocitem" href="../002-Tools/">Tools</a></li><li><a class="tocitem" href="../003-PosdefMatrix/">PosdefMatrix</a></li><li><a class="tocitem" href="../004-Denoise/">Denoise</a></li><li><a class="tocitem" href="../005-Detone/">Detone</a></li><li><a class="tocitem" href="../006-MatrixProcessing/">Matrix Processing</a></li><li><input class="collapse-toggle" id="menuitem-6-7" type="checkbox" checked/><label class="tocitem" for="menuitem-6-7"><span class="docs-label">Moments</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../007-01-Moments/">Base Moments</a></li><li><a class="tocitem" href="../007-02-Moments/">Mean</a></li><li><a class="tocitem" href="../007-03-Moments/">Covariance</a></li><li><a class="tocitem" href="../007-04-Moments/">Variance and Standard Deviation</a></li><li><a class="tocitem" href="../007-05-Moments/">Gerber Covariance</a></li><li><a class="tocitem" href="../007-06-Moments/">Smyth-Broby Covariance</a></li><li><a class="tocitem" href="../007-07-Moments/">Distance Covariance</a></li><li class="is-active"><a class="tocitem" href>Lower Tail Dependence Covariance</a></li><li><a class="tocitem" href="../007-09-Moments/">Rank Covariances</a></li><li><a class="tocitem" href="../007-10-Moments/">Histogram</a></li><li><a class="tocitem" href="../007-11-Moments/">Mutual Information Covariance</a></li><li><a class="tocitem" href="../007-12-Moments/">PortfolioOptimisersCovariance</a></li><li><a class="tocitem" href="../007-13-Moments/">Shrunk Expected Returns</a></li><li><a class="tocitem" href="../007-14-Moments/">Equilibrium expected returns</a></li><li><a class="tocitem" href="../007-15-Moments/">Excess expected returns</a></li><li><a class="tocitem" href="../007-16-Moments/">Coskewness</a></li><li><a class="tocitem" href="../007-17-Moments/">Cokurtosis</a></li><li><a class="tocitem" href="../007-18-Moments/">Regression</a></li><li><a class="tocitem" href="../007-19-Moments/">Stepwise Regression</a></li><li><a class="tocitem" href="../007-20-Moments/">Dimensional Reduction Regression</a></li><li><a class="tocitem" href="../007-21-Moments/">Implied Volatility</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-8" type="checkbox"/><label class="tocitem" for="menuitem-6-8"><span class="docs-label">Distance</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../008-1-Distance/">Base Distance</a></li><li><a class="tocitem" href="../008-2-Distance/">Distance</a></li><li><a class="tocitem" href="../008-3-Distance/">Distances of Distances</a></li><li><a class="tocitem" href="../008-4-Distance/">General Distance</a></li><li><a class="tocitem" href="../008-5-Distance/">General Distance of Distances</a></li></ul></li><li><a class="tocitem" href="../009-JuMPModelOptimisation/">JuMP Model Optimisation</a></li><li><a class="tocitem" href="../010-OWA/">Ordered Weights Array</a></li><li><input class="collapse-toggle" id="menuitem-6-11" type="checkbox"/><label class="tocitem" for="menuitem-6-11"><span class="docs-label">Phylogeny</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../011-1-Phylogeny/">Base Phylogeny</a></li><li><a class="tocitem" href="../011-2-Phylogeny/">Clustering</a></li><li><a class="tocitem" href="../011-3-Phylogeny/">Hierarchical</a></li><li><a class="tocitem" href="../011-4-Phylogeny/">Direct Bubble Hierarchy Tree</a></li><li><a class="tocitem" href="../011-5-Phylogeny/">Phylogeny</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-12" type="checkbox"/><label class="tocitem" for="menuitem-6-12"><span class="docs-label">Constraint Generation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../012-1-ConstraintGeneration/">Base Constraint Generation</a></li><li><a class="tocitem" href="../012-2-ConstraintGeneration/">Linear Constraints</a></li><li><a class="tocitem" href="../012-3-ConstraintGeneration/">Phylogeny Constraints</a></li><li><a class="tocitem" href="../012-4-ConstraintGeneration/">Weight Bounds</a></li><li><a class="tocitem" href="../012-5-ConstraintGeneration/">Buy-in Threshold Constraints</a></li></ul></li><li><a class="tocitem" href="../013-10-Prior/">Prior</a></li><li><a class="tocitem" href="../019-15-Optimisation/">Optimisation</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li><a class="is-disabled">Moments</a></li><li class="is-active"><a href>Lower Tail Dependence Covariance</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Lower Tail Dependence Covariance</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/main/docs/src/007-08-Moments.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Lower-Tail-Dependence-Covariance"><a class="docs-heading-anchor" href="#Lower-Tail-Dependence-Covariance">Lower Tail Dependence Covariance</a><a id="Lower-Tail-Dependence-Covariance-1"></a><a class="docs-heading-anchor-permalink" href="#Lower-Tail-Dependence-Covariance" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.LTDCovariance" href="#PortfolioOptimisers.LTDCovariance"><code>PortfolioOptimisers.LTDCovariance</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct LTDCovariance{T1, T2, T3} &lt;: AbstractCovarianceEstimator
    ve::T1
    alpha::T2
    threads::T3
end</code></pre><p>Lower tail dependence covariance estimator.</p><p><code>LTDCovariance</code> implements a robust covariance estimator based on lower tail dependence, which measures the co-movement of asset returns in the lower quantiles (i.e., during joint drawdowns or adverse events). This estimator is particularly useful for capturing dependence structures relevant to risk management and stress scenarios.</p><p><strong>Fields</strong></p><ul><li><code>ve</code>: Variance estimator used to compute marginal standard deviations.</li><li><code>alpha</code>: Quantile level for the 5% lower tail.</li><li><code>threads</code>: Parallel execution strategy.</li></ul><p><strong>Constructor</strong></p><pre><code class="language-julia hljs">LTDCovariance(; ve::AbstractVarianceEstimator = SimpleVariance(), alpha::Real = 0.05,
              threads::FLoops.Transducers.Executor = ThreadedEx())</code></pre><p>Keyword arguments correspond to the fields above.</p><p><strong>Validation</strong></p><ul><li><code>0 &lt; alpha &lt; 1</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ce = LTDCovariance()
LTDCovariance
       ve | SimpleVariance
          |          me | SimpleExpectedReturns
          |             |   w | nothing
          |           w | nothing
          |   corrected | Bool: true
    alpha | Float64: 0.05
  threads | Transducers.ThreadedEx{@NamedTuple{}}: Transducers.ThreadedEx()</code></pre><p><strong>Related</strong></p><ul><li><a href="../007-01-Moments/#PortfolioOptimisers.AbstractVarianceEstimator"><code>AbstractVarianceEstimator</code></a></li><li><a href="../007-04-Moments/#PortfolioOptimisers.SimpleVariance"><code>SimpleVariance</code></a></li><li><a href="../007-01-Moments/#PortfolioOptimisers.AbstractCovarianceEstimator"><code>AbstractCovarianceEstimator</code></a></li><li><a href="https://juliafolds2.github.io/FLoops.jl/dev/tutorials/parallel/#tutorials-executor"><code>FLoops.Transducers.Executor</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/660c2baeb23a8b2992fb82c82bcbe6da2e5837d0/src/7_Moments/8_LTDCovariance.jl#L1-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Statistics.cov-Tuple{LTDCovariance, AbstractMatrix}" href="#Statistics.cov-Tuple{LTDCovariance, AbstractMatrix}"><code>Statistics.cov</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cov(ce::LTDCovariance, X::AbstractMatrix; dims::Int = 1, kwargs...)</code></pre><p>Compute the lower tail dependence covariance matrix using a <a href="#PortfolioOptimisers.LTDCovariance"><code>LTDCovariance</code></a> estimator.</p><p>This method computes the lower tail dependence (LTD) covariance matrix for the input data matrix <code>X</code> using the quantile level and parallel execution strategy specified in <code>ce</code>. The LTD covariance focuses on the co-movement of asset returns in the lower tail, making it robust to extreme events and particularly relevant for risk-sensitive applications.</p><p><strong>Arguments</strong></p><ul><li><code>ce</code>: Lower tail dependence covariance estimator.</li><li><code>X</code>: Data matrix of asset returns (observations × assets).</li><li><code>dims</code>: Dimension along which to compute the covariance.</li><li><code>kwargs...</code>: Additional keyword arguments passed to the variance estimator.</li></ul><p><strong>Returns</strong></p><ul><li><code>sigma::Matrix{&lt;:Real}</code>: Symmetric matrix of lower tail dependence covariances.</li></ul><p><strong>Validation</strong></p><ul><li><code>dims</code> is either <code>1</code> or <code>2</code>.</li></ul><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.LTDCovariance"><code>LTDCovariance</code></a></li><li><a href="#PortfolioOptimisers.lower_tail_dependence"><code>lower_tail_dependence</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/660c2baeb23a8b2992fb82c82bcbe6da2e5837d0/src/7_Moments/8_LTDCovariance.jl#L159-L187">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Statistics.cor-Tuple{LTDCovariance, AbstractMatrix}" href="#Statistics.cor-Tuple{LTDCovariance, AbstractMatrix}"><code>Statistics.cor</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cor(ce::LTDCovariance, X::AbstractMatrix; dims::Int = 1, kwargs...)</code></pre><p>Compute the lower tail dependence correlation matrix using a <a href="#PortfolioOptimisers.LTDCovariance"><code>LTDCovariance</code></a> estimator.</p><p>This method computes the lower tail dependence (LTD) correlation matrix for the input data matrix <code>X</code> using the quantile level and parallel execution strategy specified in <code>ce</code>. The LTD correlation quantifies the probability that pairs of assets experience joint drawdowns or adverse events, as measured by their co-movement in the lower tail.</p><p><strong>Arguments</strong></p><ul><li><code>ce</code>: Lower tail dependence covariance estimator.</li><li><code>X</code>: Data matrix of asset returns (observations × assets).</li><li><code>dims</code>: Dimension along which to compute the correlation.</li><li><code>kwargs...</code>: Additional keyword arguments.</li></ul><p><strong>Returns</strong></p><ul><li><code>rho::Matrix{&lt;:Real}</code>: Symmetric matrix of lower tail dependence correlation coefficients.</li></ul><p><strong>Validation</strong></p><ul><li><code>dims</code> is either <code>1</code> or <code>2</code>.</li></ul><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.LTDCovariance"><code>LTDCovariance</code></a></li><li><a href="#PortfolioOptimisers.lower_tail_dependence"><code>lower_tail_dependence</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/660c2baeb23a8b2992fb82c82bcbe6da2e5837d0/src/7_Moments/8_LTDCovariance.jl#L123-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PortfolioOptimisers.lower_tail_dependence" href="#PortfolioOptimisers.lower_tail_dependence"><code>PortfolioOptimisers.lower_tail_dependence</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">lower_tail_dependence(X::AbstractMatrix; alpha::Real = 0.05,
                      threads::FLoops.Transducers.Executor = SequentialEx())</code></pre><p>Compute the lower tail dependence matrix for a set of asset returns.</p><p>The lower tail dependence (LTD) between two assets quantifies the probability that both assets experience returns in their respective lower tails (i.e., joint drawdowns or adverse events), given a specified quantile level <code>alpha</code>. This function estimates the LTD matrix for all pairs of assets in the input matrix <code>X</code>, which is particularly useful for risk management and stress testing.</p><p><strong>Arguments</strong></p><ul><li><code>X</code>: Data matrix of asset returns (observations × assets).</li><li><code>alpha</code>: Quantile level for the lower tail.</li><li><code>threads</code>: Parallel execution strategy.</li></ul><p><strong>Returns</strong></p><ul><li><code>rho::Matrix{&lt;:Real}</code>: Symmetric matrix of lower tail dependence coefficients, where <code>rho[i, j]</code> is the estimated LTD between assets <code>i</code> and <code>j</code>.</li></ul><p><strong>Details</strong></p><p>For each pair of assets <code>(i, j)</code>, the LTD is estimated as the proportion of observations where both asset <code>i</code> and asset <code>j</code> have returns less than or equal to their respective empirical <code>alpha</code>-quantiles, divided by the number of observations in the lower tail (<code>ceil(Int, T * alpha)</code>, where <code>T</code> is the number of observations).</p><p>The resulting matrix is symmetric and all values are clamped to <code>[0, 1]</code>.</p><p><strong>Related</strong></p><ul><li><a href="#PortfolioOptimisers.LTDCovariance"><code>LTDCovariance</code></a></li><li><a href="https://juliafolds2.github.io/FLoops.jl/dev/tutorials/parallel/#tutorials-executor"><code>FLoops.Transducers.Executor</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dcelisgarza/PortfolioOptimisers.jl/blob/660c2baeb23a8b2992fb82c82bcbe6da2e5837d0/src/7_Moments/8_LTDCovariance.jl#L69-L99">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../007-07-Moments/">« Distance Covariance</a><a class="docs-footer-nextpage" href="../007-09-Moments/">Rank Covariances »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Friday 19 September 2025 23:03">Friday 19 September 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
